<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown to Social Thread Converter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #8b5cf6;
            --primary-light: #a78bfa;
            --secondary: #3b82f6;
            --bg-dark: #0f1117;
            --bg-surface: #1a1f2e;
            --bg-card: #2d3748;
            --text-primary: #f8f9fa;
            --text-secondary: #cbd5e1;
            --text-muted: #64748b;
            --border: #334155;
            --success: #10b981;
            --error: #ef4444;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, #1a1f2e 50%, var(--bg-dark) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        header {
            border-bottom: 1px solid var(--border);
            background: rgba(15, 17, 23, 0.8);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 1rem 0;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo {
            font-size: 1.5rem;
        }

        .title {
            font-size: 1.25rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tagline {
            font-size: 0.875rem;
            color: var(--text-muted);
            display: none;
        }

        @media (min-width: 768px) {
            .tagline {
                display: block;
            }
        }

        .language-selector {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .lang-btn {
            padding: 0.5rem 0.75rem;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text-secondary);
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .lang-btn:hover {
            background: var(--bg-card);
            color: var(--text-primary);
        }

        .lang-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        .hero {
            text-align: center;
            margin-bottom: 3rem;
        }

        .hero h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.125rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
        }

        .card-label {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        textarea {
            flex: 1;
            background: var(--bg-surface);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1rem;
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            resize: none;
            transition: all 0.2s;
            min-height: 300px;
        }

        textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        textarea::placeholder {
            color: var(--text-muted);
        }

        .char-count {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
        }

        .output-area {
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .output-box {
            flex: 1;
            background: var(--bg-surface);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1rem;
            overflow-y: auto;
            min-height: 300px;
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .output-box.empty {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-style: italic;
        }

        .thread-tweet {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
            font-size: 0.9rem;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .thread-tweet:last-child {
            margin-bottom: 0;
        }

        .tweet-number {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .output-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .btn {
            padding: 0.625rem 1rem;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text-secondary);
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            flex: 1;
        }

        .btn:hover {
            background: var(--bg-card);
            color: var(--text-primary);
            border-color: var(--primary);
        }

        .btn.primary {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .btn.primary:hover {
            background: var(--primary-light);
            border-color: var(--primary-light);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .disclaimer {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 0.75rem;
            padding: 1.25rem;
            margin-bottom: 2rem;
            border-left: 4px solid var(--error);
        }

        .disclaimer-title {
            font-weight: 700;
            color: var(--error);
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .disclaimer-text {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .ad-banner {
            background: var(--bg-card);
            border: 2px dashed var(--border);
            border-radius: 0.75rem;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .ad-placeholder {
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .feature-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 0.75rem;
        }

        .feature-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .feature-desc {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        .monetization {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .coffee-btn {
            padding: 0.875rem 1.5rem;
            background: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);
            border: none;
            border-radius: 0.5rem;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
        }

        .coffee-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(245, 158, 11, 0.3);
        }

        footer {
            border-top: 1px solid var(--border);
            background: rgba(15, 17, 23, 0.5);
            padding: 2rem 1.5rem;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-left: 4px solid var(--success);
            border-radius: 0.5rem;
            padding: 1rem 1.5rem;
            animation: slideIn 0.3s ease-out;
            z-index: 1000;
        }

        .toast.error {
            border-left-color: var(--error);
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @media (max-width: 640px) {
            .hero h1 {
                font-size: 1.875rem;
            }

            .hero p {
                font-size: 1rem;
            }

            main {
                padding: 1rem;
            }

            .container {
                gap: 1.5rem;
            }

            textarea {
                min-height: 200px;
            }

            .output-box {
                min-height: 200px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-left">
                <span class="logo">üìù</span>
                <div>
                    <div class="title" id="headerTitle">Markdown to Thread</div>
                    <div class="tagline" id="headerTagline">Convert markdown to social threads</div>
                </div>
            </div>
            <div class="language-selector">
                <button class="lang-btn active" data-lang="en">EN</button>
                <button class="lang-btn" data-lang="ja">Êó•Êú¨Ë™û</button>
                <button class="lang-btn" data-lang="es">ES</button>
                <button class="lang-btn" data-lang="zh">‰∏≠Êñá</button>
            </div>
        </div>
    </header>

    <main>
        <div class="hero">
            <h1 id="heroTitle">Convert Markdown to Social Threads</h1>
            <p id="heroDesc">Transform your technical notes into engaging X/LinkedIn threads. Perfect for sharing knowledge with your audience.</p>
        </div>

        <div class="disclaimer">
            <div class="disclaimer-title" id="disclaimerTitle">‚ö†Ô∏è Important Disclaimer</div>
            <div class="disclaimer-text" id="disclaimerText">
                Users assume all responsibility for generated outputs. This tool provides suggestions only. No data is stored or transmitted to external servers. Generated content is provided "as-is" without warranty.
            </div>
        </div>

        <div class="ad-banner">
            <div class="ad-placeholder" id="adPlaceholder">[Advertisement Space]</div>
        </div>

        <div class="container">
            <div class="card">
                <label class="card-label" id="inputLabel">Markdown Input</label>
                <div style="display: flex; flex-direction: column; flex: 1;">
                    <textarea id="inputMarkdown" placeholder="# Title&#10;&#10;Your markdown content here...&#10;&#10;- Point 1&#10;- Point 2&#10;- Point 3"></textarea>
                    <div class="char-count"><span id="charCount">0</span> characters</div>
                </div>
            </div>

            <div class="card">
                <label class="card-label" id="outputLabel">Social Thread Preview</label>
                <div class="output-area">
                    <div class="output-box empty" id="outputBox">
                        <span id="outputPlaceholder">Your thread will appear here...</span>
                    </div>
                    <div class="output-buttons" id="outputButtons" style="display: none;">
                        <button class="btn" id="copyBtn" onclick="copyToClipboard()">
                            <span>üìã</span>
                            <span id="copyBtnText">Copy All</span>
                        </button>
                        <button class="btn primary" id="downloadBtn" onclick="downloadThread()">
                            <span>‚¨áÔ∏è</span>
                            <span id="downloadBtnText">Download</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">üîÑ</div>
                <div class="feature-title" id="feature1Title">Auto Format</div>
                <div class="feature-desc" id="feature1Desc">Automatically splits into tweet-sized chunks</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">‚ö°</div>
                <div class="feature-title" id="feature2Title">Real-time</div>
                <div class="feature-desc" id="feature2Desc">See changes instantly as you type</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üîí</div>
                <div class="feature-title" id="feature3Title">Private</div>
                <div class="feature-desc" id="feature3Desc">No data stored or transmitted</div>
            </div>
        </div>

        <div class="monetization">
            <button class="coffee-btn" onclick="openCoffeeLink()">‚òï Buy Me a Coffee</button>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <p id="footerText">Built with ‚ù§Ô∏è for content creators. No login required. All processing happens in your browser.</p>
        </div>
    </footer>

    <div id="toastContainer"></div>

    <script>
        const translations = {
            en: {
                headerTitle: 'Markdown to Thread',
                headerTagline: 'Convert markdown to social threads',
                heroTitle: 'Convert Markdown to Social Threads',
                heroDesc: 'Transform your technical notes into engaging X/LinkedIn threads. Perfect for sharing knowledge with your audience.',
                disclaimerTitle: '‚ö†Ô∏è Important Disclaimer',
                disclaimerText: 'Users assume all responsibility for generated outputs. This tool provides suggestions only. No data is stored or transmitted to external servers. Generated content is provided "as-is" without warranty.',
                adPlaceholder: '[Advertisement Space]',
                inputLabel: 'Markdown Input',
                outputLabel: 'Social Thread Preview',
                outputPlaceholder: 'Your thread will appear here...',
                copyBtnText: 'Copy All',
                downloadBtnText: 'Download',
                feature1Title: 'Auto Format',
                feature1Desc: 'Automatically splits into tweet-sized chunks',
                feature2Title: 'Real-time',
                feature2Desc: 'See changes instantly as you type',
                feature3Title: 'Private',
                feature3Desc: 'No data stored or transmitted',
                footerText: 'Built with ‚ù§Ô∏è for content creators. No login required. All processing happens in your browser.',
                inputPlaceholder: "# Title\n\nYour markdown content here...\n\n- Point 1\n- Point 2\n- Point 3",
                copied: 'Copied to clipboard!',
                downloaded: 'Downloaded!',
                error: 'An error occurred',
            },
            ja: {
                headerTitle: 'Markdown„Åã„Çâ„Çπ„É¨„ÉÉ„Éâ„Å∏',
                headerTagline: '„Éû„Éº„ÇØ„ÉÄ„Ç¶„É≥„Çí„ÇΩ„Éº„Ç∑„É£„É´„Çπ„É¨„ÉÉ„Éâ„Å´Â§âÊèõ',
                heroTitle: '„Éû„Éº„ÇØ„ÉÄ„Ç¶„É≥„Çí„ÇΩ„Éº„Ç∑„É£„É´„Çπ„É¨„ÉÉ„Éâ„Å´Â§âÊèõ',
                heroDesc: 'ÊäÄË°ìÁöÑ„Å™„É°„É¢„ÇíÈ≠ÖÂäõÁöÑ„Å™X/LinkedIn„Çπ„É¨„ÉÉ„Éâ„Å´Â§âÊèõ„Åó„Åæ„Åô„ÄÇË¶ñËÅ¥ËÄÖ„Å®Áü•Ë≠ò„ÇíÂÖ±Êúâ„Åô„Çã„ÅÆ„Å´ÊúÄÈÅ©„Åß„Åô„ÄÇ',
                disclaimerTitle: '‚ö†Ô∏è ÈáçË¶Å„Å™ÂÖçË≤¨‰∫ãÈ†Ö',
                disclaimerText: '„É¶„Éº„Ç∂„Éº„ÅØÁîüÊàê„Åï„Çå„ÅüÂá∫Âäõ„Å´ÂØæ„Åô„Çã„Åô„Åπ„Å¶„ÅÆË≤¨‰ªª„ÇíË≤†„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆ„ÉÑ„Éº„É´„ÅØÊèêÊ°à„ÅÆ„Åø„ÇíÊèê‰æõ„Åó„Åæ„Åô„ÄÇ„Éá„Éº„Çø„ÅØ‰øùÂ≠ò„Åï„Çå„Åü„Çä„ÄÅÂ§ñÈÉ®„Çµ„Éº„Éê„Éº„Å´ÈÄÅ‰ø°„Åï„Çå„Åü„Çä„Åó„Åæ„Åõ„Çì„ÄÇÁîüÊàê„Åï„Çå„Åü„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅØ„ÄåÁèæÁä∂„ÅÆ„Åæ„Åæ„Äç„ÅßÊèê‰æõ„Åï„Çå„ÄÅ‰øùË®º„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ',
                adPlaceholder: '[Â∫ÉÂëä„Çπ„Éö„Éº„Çπ]',
                inputLabel: '„Éû„Éº„ÇØ„ÉÄ„Ç¶„É≥ÂÖ•Âäõ',
                outputLabel: '„ÇΩ„Éº„Ç∑„É£„É´„Çπ„É¨„ÉÉ„Éâ„Éó„É¨„Éì„É•„Éº',
                outputPlaceholder: '„ÅÇ„Å™„Åü„ÅÆ„Çπ„É¨„ÉÉ„Éâ„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô...',
                copyBtnText: '„Åô„Åπ„Å¶„Ç≥„Éî„Éº',
                downloadBtnText: '„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ',
                feature1Title: 'Ëá™Âãï„Éï„Ç©„Éº„Éû„ÉÉ„Éà',
                feature1Desc: '„ÉÑ„Ç§„Éº„Éà„Çµ„Ç§„Ç∫„ÅÆ„ÉÅ„É£„É≥„ÇØ„Å´Ëá™ÂãïÂàÜÂâ≤',
                feature2Title: '„É™„Ç¢„É´„Çø„Ç§„É†',
                feature2Desc: 'ÂÖ•ÂäõÊôÇ„Å´Â§âÊõ¥„Çí„É™„Ç¢„É´„Çø„Ç§„É†„ÅßË°®Á§∫',
                feature3Title: '„Éó„É©„Ç§„Éô„Éº„Éà',
                feature3Desc: '„Éá„Éº„Çø„ÅØ‰øùÂ≠ò„ÉªÈÄÅ‰ø°„Åï„Çå„Åæ„Åõ„Çì',
                footerText: '„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇØ„É™„Ç®„Ç§„Çø„ÉºÂêë„Åë„Å´‚ù§Ô∏è„Åß‰Ωú„Çâ„Çå„Åæ„Åó„Åü„ÄÇ„É≠„Ç∞„Ç§„É≥‰∏çË¶Å„ÄÇ„Åô„Åπ„Å¶„ÅÆÂá¶ÁêÜ„ÅØ„Éñ„É©„Ç¶„Ç∂„ÅßË°å„Çè„Çå„Åæ„Åô„ÄÇ',
                inputPlaceholder: "# „Çø„Ç§„Éà„É´\n\n„ÅÇ„Å™„Åü„ÅÆ„Éû„Éº„ÇØ„ÉÄ„Ç¶„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Çí„Åì„Åì„Å´...\n\n- „Éù„Ç§„É≥„Éà1\n- „Éù„Ç§„É≥„Éà2\n- „Éù„Ç§„É≥„Éà3",
                copied: '„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº„Åó„Åæ„Åó„ÅüÔºÅ',
                downloaded: '„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åó„Åæ„Åó„ÅüÔºÅ',
                error: '„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü',
            },
            es: {
                headerTitle: 'Markdown a Hilo',
                headerTagline: 'Convierte markdown en hilos sociales',
                heroTitle: 'Convierte Markdown en Hilos Sociales',
                heroDesc: 'Transforma tus notas t√©cnicas en hilos atractivos de X/LinkedIn. Perfecto para compartir conocimiento con tu audiencia.',
                disclaimerTitle: '‚ö†Ô∏è Descargo de Responsabilidad Importante',
                disclaimerText: 'Los usuarios asumen toda la responsabilidad por los resultados generados. Esta herramienta solo proporciona sugerencias. No se almacenan ni transmiten datos a servidores externos. El contenido generado se proporciona "tal cual" sin garant√≠a.',
                adPlaceholder: '[Espacio Publicitario]',
                inputLabel: 'Entrada de Markdown',
                outputLabel: 'Vista Previa del Hilo Social',
                outputPlaceholder: 'Tu hilo aparecer√° aqu√≠...',
                copyBtnText: 'Copiar Todo',
                downloadBtnText: 'Descargar',
                feature1Title: 'Formato Autom√°tico',
                feature1Desc: 'Se divide autom√°ticamente en fragmentos de tama√±o de tweet',
                feature2Title: 'Tiempo Real',
                feature2Desc: 'Ver cambios instant√°neamente mientras escribes',
                feature3Title: 'Privado',
                feature3Desc: 'Sin almacenamiento ni transmisi√≥n de datos',
                footerText: 'Construido con ‚ù§Ô∏è para creadores de contenido. Sin inicio de sesi√≥n requerido. Todo el procesamiento ocurre en tu navegador.',
                inputPlaceholder: "# T√≠tulo\n\nTu contenido de markdown aqu√≠...\n\n- Punto 1\n- Punto 2\n- Punto 3",
                copied: '¬°Copiado al portapapeles!',
                downloaded: '¬°Descargado!',
                error: 'Ocurri√≥ un error',
            },
            zh: {
                headerTitle: 'Èôç‰ª∑Âà∞Á∫øÁ®ã',
                headerTagline: 'Â∞ÜÈôç‰ª∑ËΩ¨Êç¢‰∏∫Á§æ‰∫§Á∫øÁ®ã',
                heroTitle: 'Â∞ÜMarkdownËΩ¨Êç¢‰∏∫Á§æ‰∫§Á∫øÁ®ã',
                heroDesc: 'Â∞ÜÊÇ®ÁöÑÊäÄÊúØÁ¨îËÆ∞ËΩ¨Êç¢‰∏∫Âºï‰∫∫ÂÖ•ËÉúÁöÑX/LinkedInÁ∫øÁ®ã„ÄÇÂÆåÁæéÁî®‰∫é‰∏éÂèó‰ºóÂàÜ‰∫´Áü•ËØÜ„ÄÇ',
                disclaimerTitle: '‚ö†Ô∏è ÈáçË¶ÅÂÖçË¥£Â£∞Êòé',
                disclaimerText: 'Áî®Êà∑ÂØπÁîüÊàêÁöÑËæìÂá∫ÊâøÊãÖÂÖ®ÈÉ®Ë¥£‰ªª„ÄÇÊú¨Â∑•ÂÖ∑‰ªÖÊèê‰æõÂª∫ËÆÆ„ÄÇ‰∏çÂ≠òÂÇ®ÊàñÂêëÂ§ñÈÉ®ÊúçÂä°Âô®‰º†ËæìÊï∞ÊçÆ„ÄÇÁîüÊàêÁöÑÂÜÖÂÆπÊåâ"ÂéüÊ†∑"Êèê‰æõÔºå‰∏çÊèê‰æõ‰ªª‰Ωï‰øùËØÅ„ÄÇ',
                adPlaceholder: '[ÂπøÂëä‰ΩçÁΩÆ]',
                inputLabel: 'MarkdownËæìÂÖ•',
                outputLabel: 'Á§æ‰∫§Á∫øÁ®ãÈ¢ÑËßà',
                outputPlaceholder: 'ÊÇ®ÁöÑÁ∫øÁ®ãÂ∞ÜÊòæÁ§∫Âú®Ê≠§Â§Ñ...',
                copyBtnText: 'Â§çÂà∂ÂÖ®ÈÉ®',
                downloadBtnText: '‰∏ãËΩΩ',
                feature1Title: 'Ëá™Âä®Ê†ºÂºèÂåñ',
                feature1Desc: 'Ëá™Âä®ÂàÜÂâ≤‰∏∫Êé®ÊñáÂ§ßÂ∞èÁöÑÂùó',
                feature2Title: 'ÂÆûÊó∂',
                feature2Desc: 'ËæìÂÖ•Êó∂ÂÆûÊó∂Êü•ÁúãÊõ¥Êîπ',
                feature3Title: 'ÈöêÁßÅ',
                feature3Desc: 'Êó†Êï∞ÊçÆÂ≠òÂÇ®Êàñ‰º†Ëæì',
                footerText: 'Áî®‚ù§Ô∏è‰∏∫ÂÜÖÂÆπÂàõ‰ΩúËÄÖÊâìÈÄ†„ÄÇÊó†ÈúÄÁôªÂΩï„ÄÇÊâÄÊúâÂ§ÑÁêÜÈÉΩÂú®ÊµèËßàÂô®‰∏≠ËøõË°å„ÄÇ',
                inputPlaceholder: "# Ê†áÈ¢ò\n\nÊÇ®ÁöÑmarkdownÂÜÖÂÆπÂú®ËøôÈáå...\n\n- Ë¶ÅÁÇπ1\n- Ë¶ÅÁÇπ2\n- Ë¶ÅÁÇπ3",
                copied: 'Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºÅ',
                downloaded: 'Â∑≤‰∏ãËΩΩÔºÅ',
                error: 'ÂèëÁîüÈîôËØØ',
            }
        };

        let currentLanguage = 'en';

        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentLanguage = btn.dataset.lang;
                updateLanguage();
            });
        });

        function updateLanguage() {
            const t = translations[currentLanguage];
            Object.keys(t).forEach(key => {
                const elem = document.getElementById(key);
                if (elem) {
                    if (key === 'inputPlaceholder') {
                        document.getElementById('inputMarkdown').placeholder = t[key];
                    } else {
                        elem.textContent = t[key];
                    }
                }
            });
        }

        const inputMarkdown = document.getElementById('inputMarkdown');
        const outputBox = document.getElementById('outputBox');
        const charCount = document.getElementById('charCount');
        const outputButtons = document.getElementById('outputButtons');

        inputMarkdown.addEventListener('input', () => {
            charCount.textContent = inputMarkdown.value.length;
            if (inputMarkdown.value.trim().length > 0) {
                convertToThread(inputMarkdown.value);
            } else {
                outputBox.classList.add('empty');
                outputBox.innerHTML = `<span id="outputPlaceholder">${translations[currentLanguage].outputPlaceholder}</span>`;
                outputButtons.style.display = 'none';
            }
        });

        function convertToThread(markdown) {
            outputBox.classList.remove('empty');
            
            // Split by lines and filter empty lines
            const lines = markdown.split('\n').filter(line => line.trim().length > 0);
            
            let tweets = [];
            let currentTweet = '';
            const maxLength = 280;

            lines.forEach(line => {
                const cleanLine = line.replace(/^#+\s*/, '').trim();
                
                if ((currentTweet + cleanLine).length > maxLength) {
                    if (currentTweet) tweets.push(currentTweet);
                    currentTweet = cleanLine;
                } else {
                    currentTweet += (currentTweet ? '\n' : '') + cleanLine;
                }
            });

            if (currentTweet) tweets.push(currentTweet);

            // Generate thread preview
            let html = '';
            tweets.forEach((tweet, index) => {
                html += `<div class="thread-tweet">
                    <div class="tweet-number">Tweet ${index + 1}/${tweets.length}</div>
                    <div>${tweet}</div>
                </div>`;
            });

            outputBox.innerHTML = html;
            outputButtons.style.display = 'flex';
            window.threadData = tweets;
        }

        function copyToClipboard() {
            if (!window.threadData) return;
            const text = window.threadData.join('\n\n---\n\n');
            navigator.clipboard.writeText(text).then(() => {
                showToast(translations[currentLanguage].copied, 'success');
            }).catch(() => {
                showToast(translations[currentLanguage].error, 'error');
            });
        }

        function downloadThread() {
            if (!window.threadData) return;
            const text = window.threadData.join('\n\n---\n\n');
            const element = document.createElement('a');
            const file = new Blob([text], { type: 'text/plain' });
            element.href = URL.createObjectURL(file);
            element.download = 'thread.txt';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
            showToast(translations[currentLanguage].downloaded, 'success');
        }

        function openCoffeeLink() {
            window.open('https://www.buymeacoffee.com/yunari', '_blank');
        }

        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.getElementById('toastContainer').appendChild(toast);

            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        updateLanguage();
    </script>
</body>
</html>
